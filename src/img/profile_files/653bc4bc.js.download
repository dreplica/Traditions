define("clientinst",["require","exports"],function(n,t){function l(n,t,i,r){v(n,t,i,n,r,[].slice.apply(arguments).slice(4))}function a(n,t,i,r){v(n,t,i,"ClientInst",r,[].slice.apply(arguments).slice(4))}function nt(n,t,i,r,u,f,e){var o=Object.keys(e).reduce(function(n,t){return n.concat([t,e[t]])},[]);v(n,t,i,"ClientInst",f,["AppNS",r,"K",u].concat(o))}function v(n,t,i,u,e,o){s||(tt("Init","CI","Base","ClientInst",!1),f=p.setTimeout(r,w),s=1,it.bind(window,"beforeunload",r,!1),rt.bind("unload",function(){ht()},!1));tt(n,t,i,u,e,o)}function tt(n,t,f,o,s,h){var w,c="",y=_G.IG,p,l,a,v;if(h)for(p=0;p<h.length;p+=2){if(l=h[p],a=h[p+1],l=="ImpressionGuid"){y=a;continue}(typeof l!="string"||l.indexOf('"')<0)&&(l='"'+l+'"');typeof a!="string"||a.match(et)||(a='"'+a.replace(ft,'\\"')+'"');c+=l+":"+a+","}c+='"T":"CI.'+n+'",'+(typeof t=="number"?'"K":'+t:'"FID":"'+t+'"')+',"Name":"'+f+'","TS":'+ut.getTime();c=u("{"+c+"}");v=i[y]&&i[y][o]||"";st[e]+v[e]+c[e]>=ot&&(r(),v="");i.hasOwnProperty(y)?i[y][o]=v+u(v?",":"")+c:i[y]=(w={},w[o]=v+u(v?",":"")+c,w);s&&r()}function y(n,t,i,r){var u=n[t];n[t]=function(){var n=arguments,e,t,f;if(r&&i[o](this,n),e=u[o](this,n),!r){for(t=[],f=0;f<n.length;f++)t.push(n[f]);t.push(e);i[o](this,t)}return e}}function ht(){s=0;r()}function r(){var n,e,t;f&&clearTimeout(f);for(n in i)if(i.hasOwnProperty(n)){e=n!=_G.IG?_G.lsUrl.replace(_G.IG,n):_G.lsUrl;for(t in i[n])i[n].hasOwnProperty(t)&&(g().src=b+e+"&TYPE=Event."+t+"&DATA="+u("[")+i[n][t]+u("]"));delete i[n]}f=p.setTimeout(r,w)}var c,d,i,g;t.__esModule=!0;var p=n("env"),it=n("event.native"),rt=n("event.custom"),ut=n("shared"),u=encodeURIComponent,e="length",o="apply",ft=/"/g,et=/^\s*[{\["].*["}\]]\s*$/g,w=2e3,ot=2e3,s=0,f,b="",st=_G.lsUrl+"&TYPE=Event.ClientInst&DATA=",h=location.hostname,k=h.match(/([^.]+\.[^.]*)$/);k&&(c=location.protocol,d=c=="https:"?h.substring(0,h.indexOf(".")):"a4",b=c+"//"+d+"."+k[0]);i={};g=function(){return new Image};t.LogCustomEvent=l;t.Log=a;t.LogInstrumented=nt;t.Wrap=y;window.Log={LogCustomEvent:l,Log:a,Wrap:y};window.Shared2=window.Shared2||{};window.Shared2.Log={LogCustomEvent:l,Log:a,Wrap:y,LogInstrumented:nt}})